@using ActiveLogin.Identity.Swedish
@model SwedishPersonalIdentityNumberTestdataListViewModel;

@{
    ViewBag.Title = "Testdata - Swedish Personal Identity Numbers";
}

<h1 class="h2">
    Testdata
    <small class="text-muted">Swedish Personal Identity Numbers</small>
</h1>

<p class="lead py-3">
    Pellentesque sollicitudin ex a orci hendrerit ullamcorper in in nulla. Nunc feugiat enim eget hendrerit faucibus. Nullam sed justo eros. Curabitur pellentesque ullamcorper ligula, non viverra sem blandit vel. Cras rhoncus, mi ac fringilla placerat.
</p>

<form asp-action="TestDataList" method="get">
    <div class="form-row">
        <div class="form-group col-md-6 col-lg-2">
            <label asp-for="Query.DateOfBirth.From">Date of Birth <small class="text-muted">(from)</small></label>
            <input type="date" class="form-control" name="dateofbirth.from" asp-for="Query.DateOfBirth.From" />
        </div>
        <div class="form-group col-md-6 col-lg-2">
            <label asp-for="Query.DateOfBirth.To">Date of Birth <small class="text-muted">(to)</small></label>
            <input type="date" class="form-control" name="dateofbirth.to" asp-for="Query.DateOfBirth.To" />
        </div>
        <div class="form-group col-md-6 col-lg-2">
            <label asp-for="Query.Age.From">Age <small class="text-muted">(from)</small></label>
            <input type="number" class="form-control" name="age.from" asp-for="Query.Age.From" min="0" />
        </div>
        <div class="form-group col-md-6 col-lg-2">
            <label asp-for="Query.Age.To">Age <small class="text-muted">(to)</small></label>
            <input type="number" class="form-control" name="age.to" asp-for="Query.Age.To" />
        </div>
        <div class="form-group col-md-6 col-lg-2">
            <label asp-for="Query.Gender">Gender</label>
            <select class="form-control" name="gender"  asp-for="Query.Gender">
                <option value="" selected>All</option>
                <option value="Female">Female</option>
                <option value="Male">Male</option>
            </select>
        </div>
        <div class="form-group col-md-6 col-lg-2 ii-filter-submit-group">
            <button type="submit" class="btn btn-primary btn-block">Filter</button>
        </div>
    </div>
</form>


<table class="table table-striped table-hover">
    <thead class="thead-dark thead-sticky">
        <tr>
            <th scope="col">10 Digit</th>
            <th scope="col">12 Digit</th>
            <th scope="col" class="d-none d-lg-table-cell">Year</th>
            <th scope="col" class="d-none d-lg-table-cell">Month</th>
            <th scope="col" class="d-none d-lg-table-cell">Day</th>
            <th scope="col" class="d-none d-lg-table-cell">Delimiter</th>
            <th scope="col" class="d-none d-lg-table-cell">BirthNumber</th>
            <th scope="col" class="d-none d-lg-table-cell">Checksum</th>
            <th scope="col">Gender</th>
            <th scope="col">Date of Birth</th>
            <th scope="col">Age</th>
        </tr>
    </thead>
    <tbody>
        @foreach (var number in Model.Result.SwedishPersonalIdentityNumbers)
        {
            <tr>
                <th scope="row">@number.TenDigitString</th>
                <td>@number.TwelveDigitString</td>
                <td class="d-none d-lg-table-cell">@number.Year</td>
                <td class="d-none d-lg-table-cell">@number.Month</td>
                <td class="d-none d-lg-table-cell">@number.Day</td>
                <td class="d-none d-lg-table-cell">@number.Delimiter</td>
                <td class="d-none d-lg-table-cell">@number.BirthNumber</td>
                <td class="d-none d-lg-table-cell">@number.Checksum</td>
                <td>
                    <i class="fal fa-@(number.GenderHint == Gender.Female ? "venus" : "mars")" title="@number.GenderHint"></i>
                    @number.GenderHint
                </td>
                <td>@number.DateOfBirthHint.ToShortDateString()</td>
                <td>@(number.AgeHint?.ToString("D") ?? "N/A")</td>
            </tr>
        }
    </tbody>
</table>